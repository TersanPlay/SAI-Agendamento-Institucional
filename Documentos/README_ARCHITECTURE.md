# EventoSys - Sistema de Gest√£o de Eventos Institucionais

## üìã Vis√£o Geral

O **EventoSys** √© um sistema completo de gest√£o de eventos institucionais desenvolvido em Django, projetado para organiza√ß√µes que precisam gerenciar eventos de forma eficiente, transparente e segura. O sistema oferece controle de acesso baseado em roles, calend√°rio interativo, relat√≥rios automatizados e integra√ß√£o com calend√°rios externos.

## üèóÔ∏è Arquitetura do Sistema

### Stack Tecnol√≥gica

- **Backend**: Django 4.2.7 (Framework web Python)
- **Frontend**: Tailwind CSS (Framework CSS utilit√°rio)
- **Banco de Dados**: SQLite (Desenvolvimento) / PostgreSQL (Produ√ß√£o)
- **Calend√°rio**: FullCalendar.js (Interface de calend√°rio interativo)
- **Autentica√ß√£o**: Django Auth System (Sistema de autentica√ß√£o nativo)
- **Relat√≥rios**: ReportLab (PDF) + OpenPyXL (Excel)
- **Notifica√ß√µes**: Sistema interno de notifica√ß√µes

### Princ√≠pios de Design

- **Minimalismo**: Interface limpa e intuitiva
- **Responsividade**: Design adapt√°vel para desktop e mobile
- **Acessibilidade**: Compat√≠vel com leitores de tela
- **Performance**: Otimizado para carregamento r√°pido
- **Seguran√ßa**: Controle de acesso rigoroso e auditoria completa

## üéØ M√≥dulos do Sistema

### 1. **M√≥dulo de Autentica√ß√£o e Usu√°rios** (`accounts`)

#### Funcionalidades Principais:
- **Gest√£o de Usu√°rios**: CRUD completo de usu√°rios do sistema
- **Perfis Estendidos**: Informa√ß√µes adicionais al√©m do usu√°rio Django padr√£o
- **Controle de Acesso**: Sistema de tr√™s n√≠veis de permiss√£o
- **Logs de Seguran√ßa**: Auditoria completa de a√ß√µes do usu√°rio
- **Prote√ß√£o Anti-Brute Force**: Preven√ß√£o de ataques de for√ßa bruta

#### Tipos de Usu√°rio:
- **üëë Administrador**: Acesso total ao sistema
- **üë®‚Äçüíº Gestor**: Cria√ß√£o e gest√£o de eventos do departamento
- **üëÅÔ∏è Visualizador**: Visualiza√ß√£o de eventos p√∫blicos e participa√ß√£o

#### Componentes:
```
accounts/
‚îú‚îÄ‚îÄ models.py          # UserProfile, AccessLog
‚îú‚îÄ‚îÄ views.py           # Login, registro, gest√£o de perfis
‚îú‚îÄ‚îÄ forms.py           # Formul√°rios de usu√°rio e perfil
‚îú‚îÄ‚îÄ utils.py           # Fun√ß√µes de permiss√£o e logging
‚îú‚îÄ‚îÄ middleware.py      # Security logging e prote√ß√£o
‚îî‚îÄ‚îÄ templates/accounts/
    ‚îú‚îÄ‚îÄ login.html
    ‚îú‚îÄ‚îÄ register.html
    ‚îú‚îÄ‚îÄ profile.html
    ‚îú‚îÄ‚îÄ profile_edit.html
    ‚îú‚îÄ‚îÄ access_logs.html
    ‚îî‚îÄ‚îÄ user_management.html
```

#### Relacionamentos:
- **1:1** com Django User (atrav√©s de UserProfile)
- **N:1** com Department (usu√°rios pertencem a departamentos)
- **1:N** com AccessLog (logs de atividades)
- **1:N** com Event (usu√°rios podem criar/responsabilizar eventos)

---

### 2. **M√≥dulo de Eventos** (`events`)

#### Funcionalidades Principais:
- **CRUD de Eventos**: Cria√ß√£o, visualiza√ß√£o, edi√ß√£o e exclus√£o
- **19 Tipos de Eventos**: Reuni√µes, audi√™ncias, palestras, etc.
- **Modalidades**: Presencial, virtual ou h√≠brido
- **Documentos**: At√© 5 anexos por evento
- **Participantes**: Gest√£o de lista de participantes
- **Calend√°rio Interativo**: Visualiza√ß√£o em m√∫ltiplas formas
- **Versionamento**: Hist√≥rico completo de altera√ß√µes

#### Status de Eventos:
- **üìÖ Planejado**: Evento agendado
- **‚ñ∂Ô∏è Em Andamento**: Evento acontecendo
- **‚úÖ Conclu√≠do**: Evento finalizado
- **‚ùå Cancelado**: Evento cancelado

#### Componentes:
```
events/
‚îú‚îÄ‚îÄ models.py              # Event, EventType, Department, Location
‚îú‚îÄ‚îÄ views.py               # Views principais de eventos
‚îú‚îÄ‚îÄ dashboard_views.py     # Dashboard de monitoramento
‚îú‚îÄ‚îÄ feed_views.py          # Feeds de calend√°rio
‚îú‚îÄ‚îÄ forms.py               # Formul√°rios de eventos
‚îú‚îÄ‚îÄ utils.py               # Exporta√ß√£o (PDF/ICS)
‚îú‚îÄ‚îÄ integrations.py        # Integra√ß√µes externas
‚îî‚îÄ‚îÄ templates/events/
    ‚îú‚îÄ‚îÄ home.html
    ‚îú‚îÄ‚îÄ dashboard.html
    ‚îú‚îÄ‚îÄ event_list.html
    ‚îú‚îÄ‚îÄ event_detail.html
    ‚îú‚îÄ‚îÄ event_form.html
    ‚îú‚îÄ‚îÄ event_confirm_delete.html
    ‚îú‚îÄ‚îÄ calendar.html
    ‚îú‚îÄ‚îÄ calendar_integration.html
    ‚îî‚îÄ‚îÄ public_calendar.html
```

#### Relacionamentos:
- **N:1** com EventType (cada evento tem um tipo)
- **N:1** com Department (eventos pertencem a departamentos)
- **N:1** com Location (eventos t√™m localiza√ß√µes)
- **N:1** com User (responsible_person e created_by)
- **1:N** com EventDocument (anexos do evento)
- **1:N** com EventParticipant (participantes do evento)
- **1:N** com EventHistory (hist√≥rico de altera√ß√µes)

---

### 3. **M√≥dulo de Notifica√ß√µes** (`notifications`)

#### Funcionalidades Principais:
- **Notifica√ß√µes em Tempo Real**: Alertas sobre eventos
- **Tipos de Notifica√ß√£o**: Cria√ß√£o, atualiza√ß√£o, lembretes, cancelamentos
- **Prefer√™ncias Personaliz√°veis**: Controle de recebimento
- **Prioridades**: Alta, m√©dia e baixa prioridade
- **A√ß√µes Requeridas**: Notifica√ß√µes que necessitam a√ß√£o

#### Tipos de Notifica√ß√£o:
- **‚ûï Evento Criado**: Novo evento cadastrado
- **‚úèÔ∏è Evento Atualizado**: Altera√ß√µes em eventos
- **‚è∞ Lembrete**: Proximidade de eventos
- **‚ùå Evento Cancelado**: Cancelamentos
- **üîß Sistema**: Notifica√ß√µes administrativas

#### Componentes:
```
notifications/
‚îú‚îÄ‚îÄ models.py                    # Notification, NotificationPreference
‚îú‚îÄ‚îÄ views.py                     # Gest√£o de notifica√ß√µes
‚îú‚îÄ‚îÄ forms.py                     # Formul√°rios de prefer√™ncias
‚îú‚îÄ‚îÄ services.py                  # Servi√ßos de envio
‚îî‚îÄ‚îÄ templates/notifications/
    ‚îú‚îÄ‚îÄ notification_list.html
    ‚îú‚îÄ‚îÄ notification_detail.html
    ‚îî‚îÄ‚îÄ preferences.html
```

#### Relacionamentos:
- **N:1** com User (recipient - destinat√°rio)
- **N:1** com Event (evento relacionado - opcional)
- **1:1** com NotificationPreference (prefer√™ncias por usu√°rio)

---

### 4. **M√≥dulo de Relat√≥rios** (`reports`)

#### Funcionalidades Principais:
- **Relat√≥rios Personalizados**: Cria√ß√£o de relat√≥rios customizados
- **M√∫ltiplos Formatos**: PDF, Excel, CSV
- **Relat√≥rios R√°pidos**: Gera√ß√£o instant√¢nea sem salvamento
- **Agendamento**: Execu√ß√£o programada de relat√≥rios
- **Hist√≥rico de Execu√ß√£o**: Rastreamento de gera√ß√µes

#### Tipos de Relat√≥rio:
- **üìä Eventos por Per√≠odo**: An√°lise temporal
- **üìà Eventos por Tipo**: Distribui√ß√£o por categoria
- **üè¢ Eventos por Departamento**: An√°lise departamental
- **üìã Eventos por Status**: Situa√ß√£o atual dos eventos
- **üë• Participa√ß√£o**: An√°lise de participantes

#### Componentes:
```
reports/
‚îú‚îÄ‚îÄ models.py           # Report, ReportExecution
‚îú‚îÄ‚îÄ views.py            # Gera√ß√£o e gest√£o de relat√≥rios
‚îú‚îÄ‚îÄ generators.py       # Geradores PDF/Excel/CSV
‚îî‚îÄ‚îÄ templates/reports/
    ‚îú‚îÄ‚îÄ list.html
    ‚îî‚îÄ‚îÄ create.html
```

#### Relacionamentos:
- **N:1** com User (created_by - criador)
- **N:N** com Department (departamentos inclu√≠dos)
- **N:N** com EventType (tipos inclu√≠dos)
- **1:N** com ReportExecution (execu√ß√µes do relat√≥rio)

---

## üîÑ Fluxo de Dados e Relacionamentos

### Diagrama de Relacionamentos Principais

```mermaid
graph TB
    User[üë§ User] --> UserProfile[üìã UserProfile]
    User --> Event[üìÖ Event]
    User --> Notification[üîî Notification]
    User --> Report[üìä Report]
    
    Department[üè¢ Department] --> Event
    Department --> UserProfile
    
    EventType[üìã EventType] --> Event
    Location[üìç Location] --> Event
    
    Event --> EventDocument[üìé EventDocument]
    Event --> EventParticipant[üë• EventParticipant]
    Event --> EventHistory[üìö EventHistory]
    Event --> Notification
    
    UserProfile --> NotificationPreference[üîß NotificationPreference]
    
    Report --> ReportExecution[‚öôÔ∏è ReportExecution]
    
    User --> AccessLog[üîç AccessLog]
```

### Fluxo de Trabalho Principal

1. **Autentica√ß√£o**: Usu√°rio faz login no sistema
2. **Dashboard**: Visualiza√ß√£o personalizada baseada no role
3. **Gest√£o de Eventos**: 
   - Cria√ß√£o/edi√ß√£o por Administradores e Gestores
   - Visualiza√ß√£o por todos os usu√°rios autorizados
4. **Notifica√ß√µes**: Sistema autom√°tico baseado em a√ß√µes
5. **Relat√≥rios**: Gera√ß√£o sob demanda ou agendada
6. **Auditoria**: Registro autom√°tico de todas as a√ß√µes

## üõ°Ô∏è Seguran√ßa e Controle de Acesso

### Sistema de Permiss√µes

#### Administrador
- ‚úÖ CRUD completo de eventos
- ‚úÖ Gest√£o de usu√°rios
- ‚úÖ Acesso a todos os relat√≥rios
- ‚úÖ Visualiza√ß√£o de logs de auditoria
- ‚úÖ Configura√ß√µes do sistema

#### Gestor
- ‚úÖ CRUD de eventos do seu departamento
- ‚úÖ Visualiza√ß√£o de eventos p√∫blicos
- ‚úÖ Relat√≥rios b√°sicos
- ‚ùå Gest√£o de usu√°rios
- ‚ùå Logs de sistema

#### Visualizador
- ‚úÖ Visualiza√ß√£o de eventos p√∫blicos
- ‚úÖ Eventos onde √© participante
- ‚ùå Cria√ß√£o de eventos
- ‚ùå Relat√≥rios
- ‚ùå Gest√£o administrativa

### Middleware de Seguran√ßa

```python
# Funcionalidades de Seguran√ßa Implementadas
- SecurityLoggingMiddleware      # Log de a√ß√µes sens√≠veis
- BruteForceProtectionMiddleware # Prote√ß√£o contra ataques
- SecurityHeadersMiddleware      # Headers de seguran√ßa HTTP
```

## üìÖ Integra√ß√£o de Calend√°rio

### Funcionalidades de Calend√°rio

- **Visualiza√ß√µes**: Mensal, semanal, di√°ria, lista
- **Filtros Avan√ßados**: Por tipo, departamento, status, respons√°vel
- **Cores Categorizadas**: 15 cores diferentes para tipos de evento
- **Exporta√ß√£o**: ICS (iCalendar) e PDF
- **Feeds Externos**: URLs para sincroniza√ß√£o

### Integra√ß√µes Externas

```python
# Integra√ß√µes Dispon√≠veis
- Google Calendar      # Adicionar eventos ao Google Calendar
- Microsoft Outlook    # Adicionar eventos ao Outlook
- Feeds ICS            # Subscri√ß√£o de calend√°rios externos
- Webhooks             # Notifica√ß√µes para sistemas externos
```

## üöÄ APIs e Endpoints

### Principais Endpoints

#### Eventos
- `GET /events/` - Lista de eventos
- `POST /events/create/` - Criar evento
- `GET /events/<id>/` - Detalhe do evento
- `PUT /events/<id>/edit/` - Editar evento
- `DELETE /events/<id>/delete/` - Excluir evento

#### Calend√°rio
- `GET /calendar/` - Interface do calend√°rio
- `GET /calendar/data/` - Dados JSON do calend√°rio
- `GET /calendar/export/ics/` - Exportar ICS
- `GET /calendar/export/pdf/` - Exportar PDF

#### Feeds
- `GET /calendar/feed/user/<id>/<token>/` - Feed pessoal
- `GET /calendar/feed/department/<id>/` - Feed departamental
- `GET /calendar/feed/public/` - Feed p√∫blico

## üìä Dashboard e Monitoramento

### M√©tricas Principais

- **Eventos Hoje**: Contagem de eventos do dia atual
- **Eventos da Semana**: Eventos nos pr√≥ximos 7 dias
- **Meus Eventos**: Eventos do usu√°rio logado
- **Eventos por Status**: Distribui√ß√£o por situa√ß√£o
- **Eventos por Tipo**: Categoriza√ß√£o por tipo
- **Eventos Recentes**: √öltimos eventos criados

### Dashboard de Monitoramento (Admin)

- **M√©tricas de Sistema**: Performance e uso
- **An√°lise de Tend√™ncias**: Padr√µes temporais
- **Logs de Acesso**: Auditoria de seguran√ßa
- **Status do Sistema**: Sa√∫de da aplica√ß√£o

## üîß Configura√ß√£o e Deploy

### Requisitos do Sistema

```python
# requirements.txt principais
Django==4.2.7
reportlab>=3.6.0
openpyxl>=3.1.0
icalendar>=5.0.0
Pillow>=9.0.0  # Para upload de imagens
```

### Configura√ß√µes Essenciais

```python
# settings.py - Configura√ß√µes obrigat√≥rias
INSTALLED_APPS = [
    'django.contrib.sites',  # Requerido para feeds
    'events',
    'accounts',
    'notifications',
    'reports',
]

SITE_ID = 1  # Requerido para django.contrib.sites
```

### Comandos de Setup

```bash
# Configura√ß√£o inicial
py manage.py makemigrations events accounts notifications reports
py manage.py migrate
py manage.py createsuperuser  # OBRIGAT√ìRIO: Criar superusu√°rio para admin
py manage.py collectstatic
py manage.py runserver
```

### Acesso ao Django Admin

**‚úÖ Superusu√°rio j√° configurado**: `admin`

Para acessar o Django Admin:
- **URL**: `http://127.0.0.1:8000/admin/`
- **Usu√°rio**: `admin`
- **Senha**: Use a senha definida anteriormente ou redefina se necess√°rio

**Funcionalidades dispon√≠veis no Admin**:
- üîß **Gest√£o avan√ßada de usu√°rios**: Criar, editar, ativar/desativar usu√°rios
- üìã **Configura√ß√£o de tipos de eventos**: Gerenciar os 19 tipos de eventos
- üè¢ **Gest√£o de departamentos**: Adicionar e configurar departamentos
- üìç **Localiza√ß√£o de eventos**: Configurar locais dispon√≠veis
- üë• **Perfis de usu√°rio**: Gerenciar tipos e permiss√µes
- üîç **Visualiza√ß√£o de logs**: Auditoria de acesso e seguran√ßa
- ‚öôÔ∏è **Configura√ß√µes do sistema**: Ajustes gerais da aplica√ß√£o

**Para redefinir senha do admin (se necess√°rio)**:
```bash
py manage.py changepassword admin
```

## üìù Logs e Auditoria

### Sistema de Logging

- **AccessLog**: Registro de acessos e a√ß√µes
- **EventHistory**: Hist√≥rico de altera√ß√µes em eventos
- **NotificationLog**: Registro de envio de notifica√ß√µes
- **ReportExecution**: Hist√≥rico de gera√ß√£o de relat√≥rios

### Informa√ß√µes Registradas

- **Timestamp**: Data e hora da a√ß√£o
- **Usu√°rio**: Quem executou a a√ß√£o
- **IP Address**: Endere√ßo de origem
- **User Agent**: Navegador/dispositivo
- **A√ß√£o**: Tipo de opera√ß√£o realizada
- **Objeto**: Recurso afetado
- **Status**: Sucesso ou falha

## üéØ Casos de Uso T√≠picos

### 1. Cria√ß√£o de Evento
```
Gestor/Admin ‚Üí Login ‚Üí Dashboard ‚Üí Novo Evento ‚Üí 
Preencher Formul√°rio ‚Üí Adicionar Documentos ‚Üí 
Definir Participantes ‚Üí Salvar ‚Üí Notifica√ß√µes Enviadas
```

### 2. Consulta de Calend√°rio
```
Usu√°rio ‚Üí Login ‚Üí Calend√°rio ‚Üí Aplicar Filtros ‚Üí 
Visualizar Eventos ‚Üí Clicar em Evento ‚Üí Ver Detalhes
```

### 3. Gera√ß√£o de Relat√≥rio
```
Admin/Gestor ‚Üí Relat√≥rios ‚Üí Criar Novo ‚Üí 
Definir Par√¢metros ‚Üí Escolher Formato ‚Üí Gerar ‚Üí Download
```

### 4. Gest√£o de Usu√°rio (Admin)
```
Admin ‚Üí Gest√£o de Usu√°rios ‚Üí Filtrar/Buscar ‚Üí 
Selecionar Usu√°rio ‚Üí Editar/Desativar ‚Üí Salvar
```

## üîÆ Funcionalidades Futuras

### Roadmap Planejado

- **üì± App Mobile**: Aplicativo nativo para iOS/Android
- **üîî Push Notifications**: Notifica√ß√µes push em tempo real
- **üìä Analytics Avan√ßado**: Dashboards interativos
- **üîó Integra√ß√µes**: Slack, Teams, Zoom
- **ü§ñ IA**: Sugest√µes de agendamento inteligente
- **üìß Email Marketing**: Campanhas para eventos p√∫blicos

### Melhorias T√©cnicas

- **üöÄ Cache**: Redis para performance
- **üì¶ Docker**: Containeriza√ß√£o completa
- **‚òÅÔ∏è Cloud**: Deploy em AWS/Azure
- **üîç Search**: ElasticSearch para busca avan√ßada
- **üìà Monitoring**: Prometheus + Grafana

## üìö Documenta√ß√£o Adicional

### Estrutura de Arquivos
```
eventosys/
‚îú‚îÄ‚îÄ eventosys/           # Configura√ß√µes Django
‚îú‚îÄ‚îÄ events/              # M√≥dulo principal de eventos
‚îú‚îÄ‚îÄ accounts/            # Gest√£o de usu√°rios
‚îú‚îÄ‚îÄ notifications/       # Sistema de notifica√ß√µes
‚îú‚îÄ‚îÄ reports/             # Gera√ß√£o de relat√≥rios
‚îú‚îÄ‚îÄ templates/           # Templates HTML
‚îú‚îÄ‚îÄ static/              # Arquivos est√°ticos
‚îú‚îÄ‚îÄ media/               # Uploads de usu√°rios
‚îú‚îÄ‚îÄ requirements.txt     # Depend√™ncias Python
‚îî‚îÄ‚îÄ manage.py           # Utilit√°rio Django
```

### Comandos √öteis

```bash
# Desenvolvimento
py manage.py runserver
py manage.py shell
py manage.py dbshell

# Produ√ß√£o
py manage.py check --deploy
py manage.py migrate --run-syncdb
py manage.py collectstatic --noinput

# Manuten√ß√£o
py manage.py clearsessions
py manage.py cleanup_logs
py manage.py generate_reports
```

## üìÑ Licen√ßa

Este projeto √© propriedade institucional e est√° sujeito √†s pol√≠ticas internas da organiza√ß√£o.

---

**EventoSys v1.0** - Sistema de Gest√£o de Eventos Institucionais
*Desenvolvido com Django 4.2.7 + Tailwind CSS*